{"version":3,"sources":["webpack:///./src/stories/styles.ts","webpack:///./src/stories/Default.tsx","webpack:///./src/components/FocusOnScroll.tsx","webpack:///./src/stories/SmallSizedSections.tsx","webpack:///./.storybook/config.js","webpack:///./src/stories sync .ts*","webpack:///./node_modules/nested-object-assign/lib sync ^\\.\\/.*$","webpack:///./src/helpers/config.ts","webpack:///./src/helpers/utils.ts"],"names":["exports","centeredStyles","display","alignItems","justifyContent","height","fontSize","color","fontFamily","inputStyles","Object","assign","marginLeft","padding","React","__webpack_require__","react_1","react_2","addon_info_1","addon_actions_1","FocusOnScroll_1","styles_1","stories","storiesOf","module","addDecorator","withKnobs","add","withInfo","source","inline","createElement","default","focusOn","text","onFocus","action","style","background","name","placeholder","config_1","utils_1","FocusOnScroll","Component","[object Object]","props","super","this","setScrollElement","element","scrollElement","debounceResizeHandler","debounce","resizeHandler","DELAY_TIME_IN_MS","throttleScrollHandler","throttle","scrollHandler","findAndSetChildren","callback","children","childrenArray","Array","from","setState","getInlineStyles","focused","opacity","transition","focusOnHandler","index","focusArea","state","focusIndex","Number","isNaN","length","scrollPosition","getBoundingClientRect","top","window","pageYOffset","focusOnTriggered","scrollTo","setTimeout","setFocusIndex","inputClickHandler","event","tagName","target","SUPPORTED_TAGS_FOR_FOCUS","includes","toLowerCase","childElement","targetIndex","findIndex","parentElement","contains","scrollIntoView","behavior","findFocusArea","findFocusElement","renderSections","Children","map","focusedClassName","id","key","className","bottom","addEventListener","nextProps","removeEventListener","role","ref","onClick","req","require","configure","keys","forEach","filename","./Default","./Default.tsx","./SmallSizedSections","./SmallSizedSections.tsx","./styles","./styles.ts","webpackContext","webpackContextResolve","e","Error","code","resolve","./nestedObjectAssign","./nestedObjectAssign.js","innerHeight","reduce","acc","cur","Math","min","clientHeight","windowHeight","document","body","offsetHeight","scrollY","focusTop","focusBottom","fn","wait","timeout","context","args","arguments","clearTimeout","apply","throttled","resolver"],"mappings":"8KAAaA,QAAAC,eAAiB,CAC5BC,QAAS,OACTC,WAAY,SACZC,eAAgB,SAChBC,OAAQ,MACRC,SAAU,GACVC,MAAO,UACPC,WAAY,cAGDR,QAAAS,YAAWC,OAAAC,OAAA,GACnBX,QAAAC,eAAc,CACjBI,OAAQ,GACRC,SAAU,GACVM,WAAY,MACZC,QAAS,4ICfX,MAAAC,MAAAC,oBAAA,GACAC,QAAAD,oBAAA,KACAE,QAAAF,oBAAA,KACAG,aAAAH,oBAAA,KACAI,gBAAAJ,oBAAA,KAEAK,gBAAAL,oBAAA,KACAM,SAAAN,oBAAA,KAEMO,QAAUN,QAAAO,UAAU,qBAAsBC,QAEhDF,QAAQG,aAAaR,QAAAS,WAErBJ,QAAQK,IAAI,gBAAiBT,aAAAU,SAAS,CACpCC,QAAQ,EACRC,QAAQ,GAFmBZ,CAG1B,IAECJ,MAAAiB,cAACX,gBAAAY,QAAa,CACZC,QAAShB,QAAAiB,KAAK,UAAW,IACzBC,QAAShB,gBAAAiB,OAAO,mBAEhBtB,MAAAiB,cAAA,OAAMM,MAAO,CAAEhC,OAAQ,IAAKiC,WAAY,YACtCxB,MAAAiB,cAAA,OAAKM,MAAOhB,SAAApB,gBAAc,MAE5Ba,MAAAiB,cAAA,OAAMM,MAAO,CAAEhC,OAAQ,IAAKiC,WAAY,YACtCxB,MAAAiB,cAAA,OAAKM,MAAOhB,SAAApB,gBAAc,KAC1Ba,MAAAiB,cAAA,SACEQ,KAAK,SACLC,YAAY,yBACZH,MAAOhB,SAAAZ,eAGXK,MAAAiB,cAAA,OAAMM,MAAO,CAAEhC,OAAQ,IAAKiC,WAAY,YACtCxB,MAAAiB,cAAA,OAAMM,MAAOhB,SAAApB,gBAAc,KAC3Ba,MAAAiB,cAAA,SACEQ,KAAK,SACLC,YAAY,0BACZH,MAAOhB,SAAAZ,eAGXK,MAAAiB,cAAA,OAAMM,MAAO,CAAEhC,OAAQ,IAAKiC,WAAY,YACtCxB,MAAAiB,cAAA,OAAMM,MAAOhB,SAAApB,gBAAc,MAE7Ba,MAAAiB,cAAA,OAAMM,MAAO,CAAEhC,OAAQ,IAAKiC,WAAY,YACtCxB,MAAAiB,cAAA,OAAMM,MAAOhB,SAAApB,gBAAc,MAE7Ba,MAAAiB,cAAA,OAAMM,MAAO,CAAEhC,OAAQ,IAAKiC,WAAY,YACtCxB,MAAAiB,cAAA,OAAKM,MAAOhB,SAAApB,gBAAc,MAE5Ba,MAAAiB,cAAA,OAAMM,MAAO,CAAEhC,OAAQ,IAAKiC,WAAY,YACtCxB,MAAAiB,cAAA,OAAKM,MAAOhB,SAAApB,gBAAc,4KCnDlC,MAAAa,MAAAC,oBAAA,GAEA0B,SAAA1B,oBAAA,KAIA2B,QAAA3B,oBAAA,KAaA,MAAM4B,sBAAsB7B,MAAM8B,UAGhCC,YAAYC,OACVC,MAAMD,OAWAE,KAAAC,iBAAmB,CAACC,UAC1BF,KAAKG,cAAgBD,UAEfF,KAAAI,sBAAwB,KAAMV,QAAAW,SAASL,KAAKM,cAAeb,SAAAc,mBAC3DP,KAAAQ,sBAAwB,KAAMd,QAAAe,SAAST,KAAKU,cAAejB,SAAAc,mBAE3DP,KAAAW,mBAAqB,CAACC,WAC5B,GAAIZ,KAAKG,eAAiBH,KAAKG,cAAcU,SAAU,CACrD,MAAMC,cAAgBC,MAAMC,KAAKhB,KAAKG,cAAcU,UACpDb,KAAKiB,SAAS,CAAEH,6BAAiB,KACP,mBAAbF,UACTA,gBAMAZ,KAAAkB,gBAAkB,CAACC,UAClB,CACLC,QAASD,QAAU,EAAI,GACvBE,WAAY,8BAqBTrB,KAAAsB,eAAiB,CAACC,QACvB,MAAMC,UAAEA,UAASV,cAAEA,eAAkBd,KAAKyB,MACpCC,WAAaC,OAAOJ,OAC1B,GAAIK,MAAMF,aAAeA,WAAaZ,cAAce,OAClD,OAGF,MACMC,eADUhB,cAAcY,YACEK,wBAAwBC,IAAMC,OAAOC,YAAeV,UAAUQ,IAC9FhC,KAAKiB,SAAS,CACZkB,kBAAkB,GACjB,KACDF,OAAOG,SAAS,EAAGN,eAAiB,GACpCO,WAAW,KACTrC,KAAKiB,SAAS,CAAEkB,kBAAkB,KACjC1C,SAAAc,kBACHP,KAAKsC,cAAcZ,gBAQhB1B,KAAAuC,kBAAoB,CAACC,QAC1B,MAAMC,QAAUD,MAAME,QAAUF,MAAME,OAAOD,QAG7C,IAFwBA,UAAYhD,SAAAkD,yBAAyBC,SAASH,QAAQI,eAG5E,OAGF,MAAM/B,cAAEA,cAAaY,WAAEA,YAAe1B,KAAKyB,MACrCqB,aAAeN,MAAME,OACrBK,YAAcjC,cAAckC,UAAWC,eAA+BA,cAAcC,SAASJ,eACxEpB,aAAeqB,cAExCD,aAAaK,eAAe,CAAEC,SAAU,WACxCpD,KAAKsC,cAAcS,aAAerB,eAI/B1B,KAAAM,cAAgB,MACrB,MAAMQ,cAAEA,eAAkBd,KAAKyB,MACzBD,UAAY9B,QAAA2D,cAAcvC,eAChCd,KAAKiB,SAAS,CACZO,qBACCxB,KAAKU,iBAGHV,KAAAU,cAAgB,MACrB,MAAMc,UAAEA,UAASV,cAAEA,cAAaqB,iBAAEA,kBAAqBnC,KAAKyB,MAC5D,GAAIU,iBACF,OAEF,MAAMT,WAAahC,QAAA4D,iBAAiB9B,UAAWV,eAC3CY,YAAc,GAChB1B,KAAKsC,cAAcZ,cAIhB1B,KAAAsC,cAAgB,CAACZ,aACtB,GAAI1B,KAAKyB,MAAMC,aAAeA,WAAY,CACxC,MAAMvC,QAAEA,SAAYa,KAAKF,MACzBE,KAAKiB,SAAS,CACZS,wBAEqB,mBAAZvC,SACTA,QAAQuC,eAKP1B,KAAAuD,eAAiB,MACtB,MAAM1C,SACJA,UACEb,KAAKF,MAET,OAAOhC,MAAM0F,SAASC,IAAI5C,SAAU,CAACX,QAASqB,SAC5C,MAAMJ,QAAUnB,KAAKyB,MAAMC,aAAeH,MACpCmC,iBAAmBvC,QAAU,UAAY,GACzCwC,kBAAoBpC,QAE1B,OACEzD,MAAAiB,cAAA,WACE6E,IAAKD,GACLtE,MAAOW,KAAKkB,gBAAgBC,SAC5B0C,UAAWH,kBAEVxD,aA5IPF,KAAKyB,MAAQ,CACXC,WAAYC,OAAO3B,KAAKF,MAAMb,UAAY,EAC1CuC,UAAW,CACTQ,IAAK,EACL8B,OAAQ,GAEV3B,kBAAkB,EAClBrB,cAAe,IA2BZjB,oBACLG,KAAKW,mBAAmBX,KAAKM,eAC7B2B,OAAO8B,iBAAiB,SAAU/D,KAAKQ,yBACvCyB,OAAO8B,iBAAiB,SAAU/D,KAAKI,yBAGlCP,0BAA0BmE,WAC3BhE,KAAKF,MAAMb,UAAY+E,UAAU/E,SACnCe,KAAKsB,eAAe0C,UAAU/E,SAI3BY,uBACLoC,OAAOgC,oBAAoB,SAAUjE,KAAKQ,uBAC1CyB,OAAOgC,oBAAoB,SAAUjE,KAAKI,uBAkGrCP,SACL,OACE/B,MAAAiB,cAAA,OACE8E,UAAW7D,KAAKF,MAAM+D,WAAa,GACnCK,KAAK,SACLC,IAAKnE,KAAKC,iBACVmE,QAASpE,KAAKuC,mBAEbvC,KAAKuD,mBAMdvG,QAAAgC,QAAeW,m3BCxLf,MAAA7B,MAAAC,oBAAA,GACAC,QAAAD,oBAAA,KACAE,QAAAF,oBAAA,KACAG,aAAAH,oBAAA,KAEAK,gBAAAL,oBAAA,KACAM,SAAAN,oBAAA,KAEMO,QAAUN,QAAAO,UAAU,qBAAsBC,QAEhDF,QAAQG,aAAaR,QAAAS,WAErBJ,QAAQK,IAAI,uBAAwBT,aAAAU,SAAS,CAC3CC,QAAQ,EACRC,QAAQ,GAF0BZ,CAGjC,IAECJ,MAAAiB,cAACX,gBAAAY,QAAa,KACZlB,MAAAiB,cAAA,OAAMM,MAAO,CAAEhC,OAAQ,GAAIiC,WAAY,YACrCxB,MAAAiB,cAAA,OAAKM,MAAOhB,SAAApB,gBAAc,MAE5Ba,MAAAiB,cAAA,OAAMM,MAAO,CAAEhC,OAAQ,IAAKiC,WAAY,YACtCxB,MAAAiB,cAAA,OAAKM,MAAOhB,SAAApB,gBAAc,KAC1Ba,MAAAiB,cAAA,SACEM,MAAOhB,SAAAZ,YACP8B,KAAK,SACLC,YAAY,sBAGhB1B,MAAAiB,cAAA,OAAMM,MAAO,CAAEhC,OAAQ,IAAKiC,WAAY,YACtCxB,MAAAiB,cAAA,OAAMM,MAAOhB,SAAApB,gBAAc,MAE7Ba,MAAAiB,cAAA,OAAMM,MAAO,CAAEhC,OAAQ,IAAKiC,WAAY,YACtCxB,MAAAiB,cAAA,OAAMM,MAAOhB,SAAApB,gBAAc,MAE7Ba,MAAAiB,cAAA,OAAMM,MAAO,CAAEhC,OAAQ,IAAKiC,WAAY,YACtCxB,MAAAiB,cAAA,OAAKM,MAAOhB,SAAApB,gBAAc,MAE5Ba,MAAAiB,cAAA,OAAMM,MAAO,CAAEhC,OAAQ,GAAIiC,WAAY,YACrCxB,MAAAiB,cAAA,OAAKM,MAAOhB,SAAApB,gBAAc,MAE5Ba,MAAAiB,cAAA,OAAKM,MAAO,CAAEhC,OAAQ,GAAIiC,WAAY,YACpCxB,MAAAiB,cAAA,OAAKM,MAAOhB,SAAApB,gBAAc,ydCxC5BoH,IAAMC,yBAMZC,gEAJA,WACEF,IAAIG,OAAOC,QAAQ,SAACC,UAAD,OAAcL,IAAIK,aAGhBlG,uGCRvB,IAAAiF,IAAA,CACAkB,YAAA,IACAC,gBAAA,IACAC,uBAAA,IACAC,2BAAA,IACAC,WAAA,IACAC,cAAA,KAIA,SAAAC,eAAAZ,KACA,IAAAV,GAAAuB,sBAAAb,KACA,OAAAtG,oBAAA4F,IAEA,SAAAuB,sBAAAb,KACA,IAAAV,GAAAF,IAAAY,KACA,KAAAV,GAAA,IACA,IAAAwB,EAAA,IAAAC,MAAA,uBAAAf,IAAA,KAEA,MADAc,EAAAE,KAAA,mBACAF,EAEA,OAAAxB,GAEAsB,eAAAT,KAAA,WACA,OAAA9G,OAAA8G,KAAAf,MAEAwB,eAAAK,QAAAJ,sBACA1G,OAAAxB,QAAAiI,eACAA,eAAAtB,GAAA,sDC5BA,IAAAF,IAAA,CACA8B,uBAAA,IACAC,0BAAA,KAIA,SAAAP,eAAAZ,KACA,IAAAV,GAAAuB,sBAAAb,KACA,OAAAtG,oBAAA4F,IAEA,SAAAuB,sBAAAb,KACA,IAAAV,GAAAF,IAAAY,KACA,KAAAV,GAAA,IACA,IAAAwB,EAAA,IAAAC,MAAA,uBAAAf,IAAA,KAEA,MADAc,EAAAE,KAAA,mBACAF,EAEA,OAAAxB,GAEAsB,eAAAT,KAAA,WACA,OAAA9G,OAAA8G,KAAAf,MAEAwB,eAAAK,QAAAJ,sBACA1G,OAAAxB,QAAAiI,eACAA,eAAAtB,GAAA,0HCxBa3G,QAAAuD,iBAAoB,IACpBvD,QAAA2F,yBAAqC,CAAC,QAAS,QAAS,gICCxD3F,QAAAqG,cAAgB,CAACvC,gBAC5B,IAAKA,cAAce,OACjB,MAAO,CAAEG,IAAK,EAAG8B,OAAQ,GAG3B,MAAMA,OAA8B,GAArB7B,OAAOwD,YAItB,MAAO,CACLzD,IAAK8B,OAAsB,GAJXhD,cAAc4E,OAAO,CAACC,IAAKC,MAC3CC,KAAKC,IAAIF,IAAIG,aAAcJ,KAAM7B,QAIjCA,iBAIS9G,QAAAsG,iBAAmB,EAAC9B,UAAuBV,iBACtD,MAAMkF,aAAeC,SAASC,KAAKC,aAAelE,OAAOwD,YAEzD,GAA6B,IAAzB3E,cAAce,OAChB,OAAQ,EAEV,GAAuB,IAAnBI,OAAOmE,QACT,OAAO,EAET,GAAInE,OAAOmE,SAAWJ,aACpB,OAAOlF,cAAce,OAAS,EAGhC,MAAMwE,SAAW7E,UAAUQ,IAAMC,OAAOmE,QAClCE,YAAc9E,UAAUsC,OAAS7B,OAAOmE,QAE9C,OAAOtF,cAAc4E,OAAO,CAACC,IAAKzF,QAASqB,SACzC,MAAMS,IAAM9B,QAAQ6B,wBAAwBC,IAAMC,OAAOC,YAEnD4B,OAAS9B,IAAM9B,QAAQ6F,aAE7B,QADwB/D,IAAMsE,aAAexC,OAASuC,UAC/B9E,MAAQoE,KAC9B,KAGQ3I,QAAAqD,SAAW,EAACkG,GAASC,QAChC,IAAIC,QAWJ,OAViB,WACf,MAAMC,QAAU1G,KACV2G,KAAOC,UAIbC,aAAaJ,SACbA,QAAUpE,WAJI,KACZkE,GAAGO,MAAMJ,QAASC,OAGQH,SAMnBxJ,QAAAyD,SAAW,EAAC8F,GAASC,QAChC,IAEIE,QAAcC,KAFdI,WAAY,EAGhB,MAAMC,SAAW,WACf,GAAID,UAGF,OAFAJ,KAAOC,eACPF,QAAU1G,MAGZ+G,WAAY,EACZR,GAAGO,MAAM9G,KAAM4G,WACfvE,WAAW,KACT0E,WAAY,EACRJ,OACFK,SAASF,MAAMJ,QAASC,MACxBA,KAAOD,QAAU,OAElBF,OAEL,OAAOQ","file":"main.c9014769a7b934edc699.bundle.js","sourcesContent":["export const centeredStyles = {\n  display: 'flex',\n  alignItems: 'center',\n  justifyContent: 'center',\n  height: '50%',\n  fontSize: 48,\n  color: '#414141',\n  fontFamily: 'sans-serif',\n};\n\nexport const inputStyles = {\n  ...centeredStyles,\n  height: 24,\n  fontSize: 16,\n  marginLeft: '38%',\n  padding: 8,\n};\n","import * as React from 'react';\nimport { storiesOf } from '@storybook/react';\nimport { withKnobs, text } from '@storybook/addon-knobs/react';\nimport { withInfo } from '@storybook/addon-info';\nimport { action } from '@storybook/addon-actions';\n\nimport FocusOnScroll from '../components/FocusOnScroll';\nimport { centeredStyles, inputStyles } from './styles';\n\nconst stories = storiesOf('ReactFocusOnscroll', module);\n\nstories.addDecorator(withKnobs);\n\nstories.add('Basic Example', withInfo({\n  source: false,\n  inline: true,\n})(() => {\n  return (\n    <FocusOnScroll\n      focusOn={text('focusOn', '')}\n      onFocus={action('On Focus Index')}\n    >\n      <div  style={{ height: 500, background: '#00E4E4' }}>\n        <div style={centeredStyles}>0</div>\n      </div>\n      <div  style={{ height: 500, background: '#8DE2E0' }}>\n        <div style={centeredStyles}>1</div>\n        <input\n          name='input1'\n          placeholder='Enter your first input'\n          style={inputStyles}\n        />\n      </div>\n      <div  style={{ height: 600, background: '#E40000' }}>\n        <div  style={centeredStyles}>2</div>\n        <input\n          name='input2'\n          placeholder='Enter your second input'\n          style={inputStyles}\n        />\n      </div>\n      <div  style={{ height: 200, background: '#009100' }}>\n        <div  style={centeredStyles}>3</div>\n      </div>\n      <div  style={{ height: 200, background: '#ED710B' }}>\n        <div  style={centeredStyles}>4</div>\n      </div>\n      <div  style={{ height: 500, background: '#F9F3E9' }}>\n        <div style={centeredStyles}>5</div>\n      </div>\n      <div  style={{ height: 500, background: '#A9A379' }}>\n        <div style={centeredStyles}>6</div>\n      </div>\n    </FocusOnScroll>\n  );\n}));\n","import * as React from 'react';\n\nimport {\n  DELAY_TIME_IN_MS,\n  SUPPORTED_TAGS_FOR_FOCUS,\n} from '../helpers/config';\nimport {\n  findFocusArea,\n  findFocusElement,\n  throttle,\n  debounce,\n} from '../helpers/utils';\n\nimport {\n  IFocusOnScrollProps,\n  IFocusOnScrollState,\n  ChildrenArray,\n} from '../@types';\n\nclass FocusOnScroll extends React.Component<IFocusOnScrollProps, IFocusOnScrollState> {\n  private scrollElement: HTMLElement;\n\n  constructor(props: IFocusOnScrollProps) {\n    super(props);\n    this.state = {\n      focusIndex: Number(this.props.focusOn) || 0,\n      focusArea: {\n        top: 0,\n        bottom: 0,\n      },\n      focusOnTriggered: false,\n      childrenArray: [],\n    };\n  }\n  private setScrollElement = (element: HTMLDivElement): void => {\n    this.scrollElement = element;\n  }\n  private debounceResizeHandler = () => debounce(this.resizeHandler, DELAY_TIME_IN_MS);\n  private throttleScrollHandler = () => throttle(this.scrollHandler, DELAY_TIME_IN_MS);\n\n  private findAndSetChildren = (callback: unknown): void => {\n    if (this.scrollElement && this.scrollElement.children) {\n      const childrenArray = Array.from(this.scrollElement.children) as ChildrenArray;\n      this.setState({ childrenArray }, () => {\n        if (typeof callback === 'function') {\n          callback();\n        }\n      });\n    }\n  }\n\n  private getInlineStyles = (focused: boolean) => {\n    return {\n      opacity: focused ? 1 : 0.5,\n      transition: 'opacity 0.1s ease-in-out',\n    };\n  }\n\n  public componentDidMount() {\n    this.findAndSetChildren(this.resizeHandler);\n    window.addEventListener('scroll', this.throttleScrollHandler());\n    window.addEventListener('resize', this.debounceResizeHandler());\n  }\n\n  public componentWillReceiveProps(nextProps: IFocusOnScrollProps) {\n    if (this.props.focusOn !== nextProps.focusOn) {\n      this.focusOnHandler(nextProps.focusOn!);\n    }\n  }\n\n  public componentWillUnmount() {\n    window.removeEventListener('scroll', this.throttleScrollHandler);\n    window.removeEventListener('resize', this.debounceResizeHandler);\n  }\n\n  public focusOnHandler = (index: string): void => {\n    const { focusArea, childrenArray } = this.state;\n    const focusIndex = Number(index);\n    if (isNaN(focusIndex) || focusIndex > childrenArray.length) {\n      return ;\n    }\n\n    const element = childrenArray[focusIndex] as HTMLElement;\n    const scrollPosition = (element.getBoundingClientRect().top + window.pageYOffset) - focusArea.top;\n    this.setState({\n      focusOnTriggered: true,\n    }, () => {\n      window.scrollTo(0, scrollPosition + 1);\n      setTimeout(() => {\n        this.setState({ focusOnTriggered: false });\n      }, DELAY_TIME_IN_MS);\n      this.setFocusIndex(focusIndex);\n    });\n  }\n\n  /**\n   * If user clicks on an input field of a blur section\n   *  this handler will automatically focus that section\n   */\n  public inputClickHandler = (event: any): void => {\n    const tagName = event.target && event.target.tagName;\n    const unsuportedTag = (!tagName || !SUPPORTED_TAGS_FOR_FOCUS.includes(tagName.toLowerCase()));\n\n    if (unsuportedTag) {\n      return;\n    }\n\n    const { childrenArray, focusIndex } = this.state;\n    const childElement = event.target;\n    const targetIndex = childrenArray.findIndex((parentElement: HTMLElement) => parentElement.contains(childElement));\n    const alreadyInFocusArea = focusIndex === targetIndex;\n    if (!alreadyInFocusArea) {\n      childElement.scrollIntoView({ behavior: 'smooth' });\n      this.setFocusIndex(targetIndex || focusIndex);\n    }\n  }\n\n  public resizeHandler = (): void => {\n    const { childrenArray } = this.state;\n    const focusArea = findFocusArea(childrenArray);\n    this.setState({\n      focusArea,\n    }, this.scrollHandler);\n  }\n\n  public scrollHandler = (): void => {\n    const { focusArea, childrenArray, focusOnTriggered } = this.state;\n    if (focusOnTriggered) {\n      return;\n    }\n    const focusIndex = findFocusElement(focusArea, childrenArray);\n    if (focusIndex >= 0) {\n      this.setFocusIndex(focusIndex);\n    }\n  }\n\n  public setFocusIndex = (focusIndex: number): void => {\n    if (this.state.focusIndex !== focusIndex) {\n      const { onFocus } = this.props;\n      this.setState({\n        focusIndex,\n      });\n      if (typeof onFocus === 'function') {\n        onFocus(focusIndex);\n      }\n    }\n  }\n\n  public renderSections = (): React.ReactNode => {\n    const {\n      children,\n    } = this.props;\n\n    return React.Children.map(children, (element, index) => {\n      const focused = this.state.focusIndex === index;\n      const focusedClassName = focused ? 'focused' : '';\n      const id = `rfs-section-${index}`;\n\n      return (\n        <section\n          key={id}\n          style={this.getInlineStyles(focused)}\n          className={focusedClassName}\n        >\n          {element}\n        </section>\n      );\n    });\n  }\n\n  public render(): React.ReactNode {\n    return (\n      <div\n        className={this.props.className || ''}\n        role='button'\n        ref={this.setScrollElement}\n        onClick={this.inputClickHandler}\n      >\n        {this.renderSections()}\n      </div>\n    );\n  }\n}\n\nexport default FocusOnScroll;\n","import * as React from 'react';\nimport { storiesOf } from '@storybook/react';\nimport { withKnobs } from '@storybook/addon-knobs/react';\nimport { withInfo } from '@storybook/addon-info';\n\nimport FocusOnScroll from '../components/FocusOnScroll';\nimport { centeredStyles, inputStyles } from './styles';\n\nconst stories = storiesOf('ReactFocusOnscroll', module);\n\nstories.addDecorator(withKnobs);\n\nstories.add('Small Sized Sections', withInfo({\n  source: false,\n  inline: true,\n})(() => {\n  return (\n    <FocusOnScroll>\n      <div  style={{ height: 70, background: '#00E4E4' }}>\n        <div style={centeredStyles}>0</div>\n      </div>\n      <div  style={{ height: 100, background: '#8DE2E0' }}>\n        <div style={centeredStyles}>1</div>\n        <input\n          style={inputStyles}\n          name='input1'\n          placeholder='Enter your input'\n        />\n      </div>\n      <div  style={{ height: 600, background: '#E40000' }}>\n        <div  style={centeredStyles}>2</div>\n      </div>\n      <div  style={{ height: 200, background: '#009100' }}>\n        <div  style={centeredStyles}>3</div>\n      </div>\n      <div  style={{ height: 200, background: '#ED710B' }}>\n        <div style={centeredStyles}>4</div>\n      </div>\n      <div  style={{ height: 70, background: '#F9F3E9' }}>\n        <div style={centeredStyles}>5</div>\n      </div>\n      <div style={{ height: 80, background: '#A9A379' }}>\n        <div style={centeredStyles}>6</div>\n      </div>\n    </FocusOnScroll>\n  );\n}));\n","import { configure } from '@storybook/react';\n\nconst req = require.context('../src/stories', true, /.ts*/);\n\nfunction loadStories() {\n  req.keys().forEach((filename) => req(filename));\n}\n\nconfigure(loadStories, module);\n","var map = {\n\t\"./Default\": 235,\n\t\"./Default.tsx\": 235,\n\t\"./SmallSizedSections\": 286,\n\t\"./SmallSizedSections.tsx\": 286,\n\t\"./styles\": 130,\n\t\"./styles.ts\": 130\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) { // check for number or string\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn id;\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 464;","var map = {\n\t\"./nestedObjectAssign\": 239,\n\t\"./nestedObjectAssign.js\": 239\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) { // check for number or string\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn id;\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 475;","export const DELAY_TIME_IN_MS =  250;\nexport const SUPPORTED_TAGS_FOR_FOCUS: string[] = ['input', 'label', 'select'];\n","import { IFocusArea, ChildrenArray } from '../@types';\n\nexport const findFocusArea = (childrenArray: any[]): IFocusArea => {\n  if (!childrenArray.length) {\n    return { top: 0, bottom: 0 };\n  }\n\n  const bottom = window.innerHeight * 0.50;\n  const minHeight = childrenArray.reduce((acc, cur) =>\n    Math.min(cur.clientHeight, acc), bottom);\n\n  return {\n    top: bottom - (minHeight * 0.50),\n    bottom,\n  };\n};\n\nexport const findFocusElement = (focusArea: IFocusArea, childrenArray: ChildrenArray) => {\n  const windowHeight = document.body.offsetHeight - window.innerHeight;\n\n  if (childrenArray.length === 0) {\n    return -1;\n  }\n  if (window.scrollY === 0) {\n    return 0;\n  }\n  if (window.scrollY >= windowHeight) {\n    return childrenArray.length - 1;\n  }\n\n  const focusTop = focusArea.top + window.scrollY;\n  const focusBottom = focusArea.bottom + window.scrollY;\n\n  return childrenArray.reduce((acc, element, index) => {\n    const top = element.getBoundingClientRect().top + window.pageYOffset;\n\n    const bottom = top + element.clientHeight;\n    const isInfocusArea = !(top > focusBottom || bottom < focusTop);\n    return isInfocusArea ? index : acc;\n  }, 0);\n};\n\nexport const debounce = (fn: any, wait: number) => {\n  let timeout: any;\n  const resolver = function() {\n    const context = this;\n    const args = arguments;\n    const later = () => {\n      fn.apply(context, args);\n    };\n    clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n\n  };\n  return resolver;\n};\n\nexport const throttle = (fn: any, wait: number) => {\n  let throttled = false;\n  // tslint:disable-next-line:one-variable-per-declaration\n  let context: any, args: any;\n  const resolver = function() {\n    if (throttled) {\n      args = arguments;\n      context = this;\n      return;\n    }\n    throttled = true;\n    fn.apply(this, arguments);\n    setTimeout(() => {\n      throttled = false;\n      if (args) {\n        resolver.apply(context, args);\n        args = context = null;\n      }\n    }, wait);\n  };\n  return resolver;\n};\n"],"sourceRoot":""}